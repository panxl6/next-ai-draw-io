# 故障排除指南 (Troubleshooting Guide)

## ERR_PROXY_CONNECTION_FAILED 错误

如果启动应用后在浏览器中看到 "ERR_PROXY_CONNECTION_FAILED" 错误，请尝试以下解决方案：

### 解决方案 1: 检查浏览器代理设置（推荐）

应用默认使用 HTTP 模式，如果仍然出现代理错误，可能是浏览器代理配置问题：

#### Chrome/Edge:
1. 打开浏览器设置
2. 搜索 "代理" 或 "proxy"
3. 点击 "打开计算机的代理设置"
4. 关闭代理服务器设置，或确保代理服务器地址正确

#### Firefox:
1. 打开设置 → 网络设置
2. 选择 "不使用代理服务器" 或配置正确的代理设置

### 解决方案 2: 确认访问地址

确保使用正确的 HTTP 地址访问应用：

```bash
npm run dev
```

然后在浏览器中访问：`http://localhost:6002`（注意是 http://，不是 https://）

### 解决方案 3: 检查浏览器代理设置

如果上述方法不起作用，可能是浏览器代理配置问题：

#### Chrome/Edge:
1. 打开浏览器设置
2. 搜索 "代理" 或 "proxy"
3. 点击 "打开计算机的代理设置"
4. 关闭代理服务器设置，或确保代理服务器地址正确

#### Firefox:
1. 打开设置 → 网络设置
2. 选择 "不使用代理服务器" 或配置正确的代理设置

### 解决方案 4: 检查防火墙和端口

确保端口 6002 没有被防火墙阻止：

**Windows:**
```powershell
# 检查端口是否被占用
netstat -ano | findstr :6002
```

**Linux/Mac:**
```bash
lsof -i :6002
```

### 解决方案 5: 使用不同的端口

如果 6002 端口有问题，可以使用其他端口：

```bash
PORT=3000 npm run dev:http
```

然后在浏览器中访问：`http://localhost:3000`

### 常见问题

**Q: 应用默认使用什么协议？**
A: 应用默认使用 HTTP 模式，简单且兼容性好。在浏览器中访问 `http://localhost:6002` 即可。

**Q: 生产环境也应该使用 HTTP 吗？**
A: 不建议。生产环境应该使用 HTTPS，并通过反向代理（如 Nginx）配置 SSL 证书。应用本身使用 HTTP，由反向代理处理 HTTPS 终止。

## 其他常见问题

### 应用无法启动

1. 确保已安装所有依赖：
   ```bash
   npm install
   ```

2. 检查 Node.js 版本（需要 Node.js 18+）：
   ```bash
   node --version
   ```

3. 清除缓存并重新安装：
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

### 端口已被占用

如果看到端口被占用的错误，可以：
1. 关闭占用端口的程序
2. 使用不同的端口（见解决方案 5）

### 端口访问问题

如果无法访问应用，检查：
1. 应用是否正常启动（查看终端输出）
2. 端口是否被其他程序占用
3. 防火墙是否阻止了端口访问
4. 确保使用 `http://` 而不是 `https://` 访问

